<head>
  <title>meteorshowcase</title>
</head>

<body>
  {{> nav}} 
  {{> list}} 
  {{> dash}}
  {{> submit}}
  {{> edit}}
  {{> view}}
</body>

<template name="list">
  <div class="showcase">
    {{#each items}}
      {{> item}}
      <hr/>
    {{/each}}
  </div>
</template>

<template name="item">
  <div class="item {{selected}}">
    <div style='float:left;width:25%;padding-left:3%;font-weight:bold;font-size:150%;' class="name">{{name}}</div>
    <div style='float:left;width:30%;' class="description">foobar {{description}}</div>
    <div style='float:left;width:35%;' class="date">{{date}}</div>
    <div style='float:right:width:10%;font-weight:bold;' class="score">{{score}}</div>
  </div>
</template>

<template name="dash">
  <input type="button" style='margin-left:20px;' class="inc" onclick="document.location.hash='#inc';" value="UpVote" /><br/>
  <input type="button" style='margin-left:20px;' class="new" onclick="$('#modal_create').modal('show');" value="New" />
</template>

<template name="view">
  <div class="test-area modal fade in" style="display:none;" id="modal_view">
  <div class="modal-header">
    <a href="#" style="margin-left:15px;" data-dismiss="modal" class="close pull-right;">&times;</a>
    <h3 class="item_title">App Name</h3>
  </div>
  <div style="padding:0px;overflow:hidden;" class="modal-body">
    <p>App Image</p>
    <p>App Name</p>
    <p>App Description</p>
    <p>App Author</p>
    <p>App Submit Date</p>
    <p>App Score</p>
    <p>App Links</p>
    <p style='text-align:center;margin-bottom:25px;'><a href="#" onclick="console.log('Opening app...');" style='text-decoration:none;' class="btn-large btn-inverse">Run on OpenShift <b class='icon-cog'></b></a></p>
  </div>
  <div class="modal-footer">
    {{# if currentUser }}<a href="#" onclick="( $('#modal_view').modal('hide') && $('#modal_edit').modal('show'))" style='margin-right:10px;' class="pull-left btn btn-info">Settings <b class='icon-wrench'></b></a>{{/if}}
    <a href="#" style="margin-left:15px;" onclick="console.log('Opening app...');" class="pull-right btn btn-primary">Visit <b class='icon-globe'></b></a>
    <a href="#" data-dismiss="modal" onclick="$('#modal_view').modal('hide');" class="btn pull-right">Cancel <b class='icon-remove'></b></a>
  </div>
</div>
</template>

<template name="edit">
  <div class="test-area modal fade in" style="display:none;" id="modal_edit">
  <div class="modal-header">
    <a href="#" data-dismiss="modal" class="close">&times;</a>
    <h3 class="method_test_title">Submit App</h3>
  </div>
  <div style="padding:0px;overflow:hidden;" class="modal-body">
    <form id="test-code" class="form-horizontal" action="#" onsubmit="$('#modal_edit').modal('hide');return false;">
      <fieldset style="margin:0px;padding:0px;">
        <div id="method_test_fields" class="fields round-top method_test_fields">
          <div class="test_inputs">
            <div class="control-group">
              <label class="control-label" for="keywords">keywords</label>
              <div class="controls">
                <input id="keywords" name="keywords" size="30" type="text" placeholder="">
              </div>
            </div> 
            <div class="control-group">
              <label class="control-label" for="page">page</label>
              <div class="controls">
                <input id="page" name="page" size="30" type="text" placeholder="">
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <a href="#" style="margin-left:15px;" onclick="test_submit();" class="btn-primary btn pull-right">Save <b class='icon-ok'></b></a>
    <a href="#" onclick="test_submit();" class="btn-danger btn pull-left">Delete <b class='icon-trash'></b></a>
    <a href="#" data-dismiss="modal" onclick="$('#modal_edit').modal('hide');" class="btn pull-right">Cancel <b class='icon-remove'></b></a>
  </div>
</div>
</template>

<template name="submit">
  <div class="test-area modal fade in" style="display:none;" id="modal_create">
  <div class="modal-header">
    <a href="#" data-dismiss="modal" class="close">&times;</a>
    <h3 class="method_test_title">Submit App</h3>
  </div>
  <div style="padding:0px;overflow:hidden;" class="modal-body">
    <form id="test-code" class="form-horizontal" action="#" onsubmit="$('#modal_create').modal('hide');return false;">
      <fieldset style="margin:0px;padding:0px;">
        <div id="method_test_fields" class="fields round-top method_test_fields">
          <div class="test_inputs">
            <div class="control-group">
              <label class="control-label" for="keywords">keywords</label>
              <div class="controls">
                <input id="keywords" name="keywords" size="30" type="text" placeholder="">
              </div>
            </div>
            <div class="control-group">
              <label class="control-label" for="page">page</label>
              <div class="controls">
                <input id="page" name="page" size="30" type="text" placeholder="">
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <a href="#" style="margin-left:15px;" onclick="test_submit();" class="btn btn-primary pull-right">Submit <b class='icon-ok'></b></a>
    <a href="#" data-dismiss="modal" onclick="$('#modal_create').modal('hide');" class="btn pull-right">Cancel <b class='icon-remove'></b></a>
  </div>
</div>
</template>

<template name="nav">
<div class="navbar navbar-inverse">
  <div class="navbar-inner">
  <a class="brand" href="#">ShowCase</a>
  <ul class="nav pull-right" role='navigation'>
    <li class="divider-vertical"></li>
    <li class='dropdown'>
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Account<b class="caret"></b></a>
      <ul role="menu" class='dropdown-menu'>
        <li><a onclick="$('#modal_create').modal('show');" href="#submit">Submit an Application</a></li>
        <li role="presentation" class="divider"></li>
      {{#if currentUser}}
        <li>
          <p style='font-size:smaller;text-align:center;'>
            <a href='#'>
              <img style='margin: 0px 5%; width:90%;' src='https://a248.e.akamai.net/camo.github.com/5e6eb0b00d714eb5b8ec84254205c61c2a97c68d/687474703a2f2f6f63746f6465782e6769746875622e636f6d2f696d616765732f77616c646f6361742e6a7067'/><br/>
              <span style='font-weight:bold;margin: 0px 10%;'>{{ username }}</span>
            </a>
          </p>
          <a id='logout_btn' href="#logout">Logout</a>
        </li>
      {{else}}
        <li><a id='login_btn' href="#login">Login</a></li>
      {{/if}}
      </ul>
    </li>
  </ul>
  <ul class="nav pull-right" role='navigation'>
    <li>
      <form class="navbar-search">
        <input onkeypress="Session.set('filter', this.value);" type="text" class="search-query" placeholder="Search">
      </form>
    </li>
  </ul>
  <ul class="nav pull-left" role='navigation'>
    <li class="{{name_active}}"><a id='name_sort' href="#list">Name <b class="{{name_dir}}"></b></a></li>
    <li class="{{date_active}}"><a id='date_sort' href="#new">Latest <b class="{{date_dir}}"></b></a></li>
    <li class="{{score_active}}"><a id='score_sort' href="#favorites">Rating <b class="{{score_dir}}"></b></a></li>
  </ul>
  </div>
</div>
</template>
